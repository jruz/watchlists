# Test Fixtures

This directory contains fixtures for unit tests. Fixtures are snapshots of real API responses and HTML pages used to test parsing and filtering logic without making network calls.

## What Are Fixtures?

Fixtures are **saved copies** of real API responses, completely separate from tests:
- `binance_response.json` - Binance exchange info API response
- `kucoin_response.json` - KuCoin all tickers API response
- `woo_response.json` - WOO public info API response
- `stockanalysis_spy.html` - StockAnalysis.com SPY ETF holdings page

## Development Workflow

### Local Development
Run fast unit tests with cached fixtures:
```bash
just test
```

Unit tests load these fixture files to validate parsing/filtering logic. No network calls needed.

### Updating Fixtures
Fixtures are generated by a **separate tool**, not by tests:

```bash
just generate-fixtures
```

This runs `examples/generate_fixtures.rs` which:
- Fetches fresh data from all APIs
- Saves responses to this directory
- **Does not run any tests**

## CI/CD (Automatic)

GitHub Actions:
1. Generates fresh fixtures (`just generate-fixtures`)
2. Runs all tests with fresh fixtures (`just test`)
3. Fails if APIs have changed

**When CI fails**:
1. Run `just generate-fixtures` locally to see what changed
2. Update your parsing code to handle the new structure
3. Commit the fixes

## Philosophy

**Fixtures and tests are separate**:
- Fixtures = Data snapshots for testing (generated by `examples/generate_fixtures.rs`)
- Tests = Load fixtures, validate parsing logic
- CI = Regenerates fixtures before testing to catch API changes
